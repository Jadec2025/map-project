<!DOCTYPE html>
<html>
<head>
    <title>Driver Pay Map</title>
    <meta charset="utf-8" />
    <style>
        html, body, #map { height: 100%; margin: 0; padding: 0; }
        #searchBar {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 0 8px rgba(0,0,0,0.2);
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>
    <div id="searchBar">
        <input type="text" id="zipInput" placeholder="Enter ZIP Code" />
        <button onclick="findZone()">Search</button>
    </div>
    <div id="map"></div>

    <script>
        const map = L.map('map').setView([29.7604, -95.3698], 9);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        const zipToZone = {
            "77001": "B", "77034": "A", "77356": "E", "77437": "F",
            "77501": "A", "77549": "B", "77584": "F",
            // Add the rest of your ZIPs and zones here
        };

        const zonePay = {
            "A": "$200", "B": "$225", "C": "$280",
            "D": "$315", "E": "$450", "F": "$550"
        };

        const zoneColors = {
            "A": "#8BC34A", "B": "#2196F3", "C": "#FF9800",
            "D": "#9C27B0", "E": "#E91E63", "F": "#FF5722"
        };

        const zoneShapes = {
            "A": [[29.6, -95.2], [29.6, -95.0], [29.4, -95.0], [29.4, -95.2]],
            "B": [[29.8, -95.4], [29.8, -95.2], [29.6, -95.2], [29.6, -95.4]],
            "C": [[30.0, -95.6], [30.0, -95.4], [29.8, -95.4], [29.8, -95.6]],
            "D": [[30.2, -95.8], [30.2, -95.6], [30.0, -95.6], [30.0, -95.8]],
            "E": [[30.4, -96.0], [30.4, -95.8], [30.2, -95.8], [30.2, -96.0]],
            "F": [[30.6, -96.2], [30.6, -96.0], [30.4, -96.0], [30.4, -96.2]]
        };

        let currentLayer = null;

        function findZone() {
            const zip = document.getElementById("zipInput").value;
            const zone = zipToZone[zip];

            if (!zone) {
                alert("ZIP code not found");
                return;
            }

            const pay = zonePay[zone];
            const shape = zoneShapes[zone];
            const color = zoneColors[zone];

            if (currentLayer) {
                map.removeLayer(currentLayer);
            }

            currentLayer = L.polygon(shape, {
                color: color,
                fillColor: color,
                fillOpacity: 0.5
            }).addTo(map);

            currentLayer.bindPopup(`<b>ZIP:</b> ${zip}<br><b>Zone:</b> ${zone}<br><b>Pay:</b> ${pay}`).openPopup();
            map.fitBounds(currentLayer.getBounds());
        }
    </script>
</body>
</html>
